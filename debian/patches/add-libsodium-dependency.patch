Description: Add rbnacl-libsodium support.
Author: Lorenzo "Palinuro" Faletra <palinuro@parrotsec.org>
Last-Update: 2018-01-27

--- metasploit-framework-4.16.34.orig/Gemfile.lock
+++ metasploit-framework-4.16.34/Gemfile.lock
@@ -39,6 +39,7 @@ PATH
       railties
       rb-readline
       rbnacl (< 5.0.0)
+      rbnacl-libsodium
       recog
       redcarpet
       rex-arch
@@ -251,6 +252,8 @@ GEM
     rb-readline (0.5.5)
     rbnacl (4.0.2)
       ffi
+    rbnacl-libsodium (1.0.16)
+      rbnacl (>= 3.0.1)
     recog (2.1.17)
       nokogiri
     redcarpet (3.4.0)
--- metasploit-framework-4.16.34.orig/metasploit-framework.gemspec
+++ metasploit-framework-4.16.34/metasploit-framework.gemspec
@@ -126,6 +126,7 @@ Gem::Specification.new do |spec|
   spec.add_runtime_dependency 'mqtt'
   spec.add_runtime_dependency 'net-ssh'
   spec.add_runtime_dependency 'rbnacl', ['< 5.0.0']
+  spec.add_runtime_dependency 'rbnacl-libsodium'
   spec.add_runtime_dependency 'bcrypt_pbkdf'
   spec.add_runtime_dependency 'ruby_smb'
 
